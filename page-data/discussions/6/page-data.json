{"componentChunkName":"component---src-templates-discussion-detail-js","path":"/discussions/6/","result":{"data":{"allGitHubDiscussion":{"nodes":[{"number":6,"title":"Ark å¼€å‘è§„èŒƒ","body":"åœ¨ **Spring Boot 3.4.13** (2026å¹´ç¨³å®šç‰ˆ) çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œä»£ç ä¸ä»…è¦è¿½æ±‚â€œèƒ½è·‘â€ï¼Œæ›´è¦è¿½æ±‚â€œç°ä»£â€ä¸â€œå®‰å…¨â€ã€‚\r\n\r\n\r\n\r\n---\r\n\r\n### ä¸€ã€ ä¾èµ–ä¸ç‰ˆæœ¬è§„èŒƒ (Maven/Gradle)\r\n\r\n* **ç¦æ­¢ç¡¬ç¼–ç ç‰ˆæœ¬å·**ï¼šé™¤ç‰¹æ®Šè‡ªå®šä¹‰ SDK å¤–ï¼Œæ‰€æœ‰ä¾èµ–ç‰ˆæœ¬å¿…é¡»ç”± `spring-boot-starter-parent` æˆ–è‡ªå®šä¹‰çš„ `BOM` (Bill of Materials) ç»Ÿä¸€ç®¡ç†ã€‚\r\n* **æ¸…ç†é—ç•™åŒ…**ï¼šç¦æ­¢é¡¹ç›®ä¸­å‡ºç° `javax.*` å‘½åç©ºé—´çš„ä¾èµ–ï¼Œå¿…é¡»å…¨é¢è¿ç§»è‡³ `jakarta.*`ã€‚\r\n* **å®šæœŸæ‰§è¡Œä¾èµ–æ ‘æ£€æŸ¥**ï¼šæ¯ä¸¤å‘¨æ‰§è¡Œä¸€æ¬¡ `mvn dependency:tree`ï¼Œç¡®ä¿æ²¡æœ‰é‡å¤çš„ `Hutool`ã€`Fastjson` æˆ– `Spring` æ ¸å¿ƒåŒ…ç‰ˆæœ¬ã€‚\r\n\r\n### äºŒã€ æ ¸å¿ƒæ³¨å…¥è§„èŒƒ (Dependency Injection)\r\n\r\n* **å¼ºåˆ¶ä½¿ç”¨æ„é€ å™¨æ³¨å…¥**ï¼š\r\n* **è§„èŒƒ**ï¼šç¦æ­¢ä½¿ç”¨ `@Autowired` è¿›è¡Œå­—æ®µæ³¨å…¥ (Field Injection)ã€‚\r\n* **ç†ç”±**ï¼šå­—æ®µæ³¨å…¥ä¸å¯å˜æ€§å·®ï¼Œä¸”å®¹æ˜“å¯¼è‡´ä½ ä¹‹å‰é‡åˆ°çš„â€œæ³¨å…¥å€¼ä¸º null æˆ– falseâ€å´æ— æ³•æ’æŸ¥çš„é—®é¢˜ã€‚\r\n* **å·¥å…·**ï¼šé…åˆ Lombok çš„ `@RequiredArgsConstructor`ã€‚\r\n\r\n\r\n* **ç±»å‹ä¼˜å…ˆåŸåˆ™**ï¼š\r\n* **è§„èŒƒ**ï¼š`@ConditionalOnMissingBean` å¿…é¡»æ˜¾å¼æŒ‡å®š `value = Xxx.class`ï¼Œä¸¥ç¦ä»…ä½¿ç”¨ `name = \"xxx\"`ã€‚\r\n* **ç†ç”±**ï¼šé¿å…å› é‡æ„ç±»åå¯¼è‡´çš„å­—ç¬¦ä¸²å¤±é…ã€‚\r\n\r\n\r\n* **å¼•å…¥ `@Fallback` æœºåˆ¶**ï¼š\r\n* **æ–°ç‰¹æ€§**ï¼šå¯¹äºå¤šä¸ªåŒç±»å‹ Beanï¼Œå¦‚æœä¸å¸Œæœ›æ˜¾å¼ä½¿ç”¨ `@Primary`ï¼Œå¯ä»¥ä½¿ç”¨ Spring 3.4 æ–°å¼•å…¥çš„ `@Fallback` æ ‡æ³¨å¤‡é€‰ Beanã€‚\r\n\r\n\r\n\r\n### ä¸‰ã€ é…ç½®ç»‘å®šè§„èŒƒ (Externalized Config)\r\n\r\n* **ç±»å‹å®‰å…¨é…ç½®ç±»**ï¼š\r\n* **è§„èŒƒ**ï¼šä¸¥ç¦åœ¨ Controller/Service ä¸­ç›´æ¥å¤§é‡ä½¿ç”¨ `@Value`ã€‚å¿…é¡»å®šä¹‰ `@ConfigurationProperties` ç±»ã€‚\r\n* **ç†ç”±**ï¼š`@Value` ä¸æ”¯æŒæ¾æ•£ç»‘å®š (Relaxed Binding)ï¼Œä¸”åœ¨ Nacos åŠ¨æ€åˆ·æ–°æ—¶å®¹æ˜“å‡ºç°çŠ¶æ€ä¸ä¸€è‡´ã€‚\r\n\r\n\r\n* **é»˜è®¤å€¼æ˜¾å¼å®šä¹‰**ï¼šåœ¨é…ç½®ç±»çš„å­—æ®µä¸Šç›´æ¥èµ‹äºˆé»˜è®¤å€¼ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç é€»è¾‘ä¸­åˆ¤æ–­ `null`ã€‚\r\n* **å¼€å¯æ„é€ å‡½æ•°ç»‘å®š**ï¼šSpring 3.4 ä¼˜åŒ–äº†æ„é€ å‡½æ•°ç»‘å®šï¼Œä¸å†éœ€è¦æ˜¾å¼åŠ  `@ConstructorBinding`ã€‚\r\n\r\n### å››ã€ å¾®æœåŠ¡ä¸äº‘åŸç”Ÿè§„èŒƒ (Cloud Native)\r\n\r\n* **å¯ç”¨è™šæ‹Ÿçº¿ç¨‹ (Virtual Threads)**ï¼š\r\n* **è§„èŒƒ**ï¼šåœ¨ `application.yml` ä¸­è®¾ç½® `spring.threads.virtual.enabled: true`ã€‚\r\n* **ç†ç”±**ï¼š2026 å¹´ JDK 21+ å·²æ˜¯æ ‡é…ï¼Œè™šæ‹Ÿçº¿ç¨‹èƒ½æå¤§åœ°æå‡é«˜å¹¶å‘ IOï¼ˆå¦‚ä½ çš„ GitHub SSO å›è°ƒï¼‰çš„ååé‡ã€‚\r\n\r\n\r\n* **ç»“æ„åŒ–æ—¥å¿— (Structured Logging)**ï¼š\r\n* **æ–°è§„**ï¼šSpring 3.4 åŸç”Ÿæ”¯æŒ `ecs` (Elastic Common Schema) æ ¼å¼ã€‚ç”Ÿäº§ç¯å¢ƒå¿…é¡»å¼€å¯ `logging.structured.format.console=ecs`ã€‚\r\n\r\n\r\n* **ä¼˜é›…åœæœº**ï¼šå¿…é¡»é…ç½® `server.shutdown: graceful`ï¼Œç¡®ä¿ GitHub SSO çš„å›è°ƒäº‹åŠ¡åœ¨å®¹å™¨é”€æ¯å‰å¤„ç†å®Œæ¯•ã€‚\r\n\r\n### äº”ã€ API ä¸æ–‡æ¡£è§„èŒƒ (RESTful)\r\n\r\n* **å…¨é¢è½¬å‘ SpringDoc/OpenAPI 3**ï¼š\r\n* **è§„èŒƒ**ï¼šç§»é™¤æ‰€æœ‰ `@Api`ã€`@ApiOperation`ï¼Œæ”¹ç”¨ `@Tag`ã€`@Operation`ã€‚\r\n* **åœ°å€**ï¼šç»Ÿä¸€ä½¿ç”¨ `/swagger-ui/index.html`ã€‚\r\n\r\n\r\n* **è¿”å›ä½“ç»Ÿä¸€åŒ–**ï¼šæ‰€æœ‰ Controller å¿…é¡»è¿”å› `Result<T>` åŒ…è£…ç±»ï¼Œå¹¶åŒ…å« `traceId`ï¼ˆé€šè¿‡ Micrometer Tracing è‡ªåŠ¨ç”Ÿæˆï¼‰ã€‚\r\n\r\n### å…­ã€ æµ‹è¯•è§„èŒƒ (Testing)\r\n\r\n* **ä½¿ç”¨ `MvcTester**`ï¼šSpring 3.4 æ¨èä½¿ç”¨ AssertJ é£æ ¼çš„ `MvcTester` æ›¿ä»£ä¼ ç»Ÿçš„ `MockMvc`ã€‚\r\n* **æµ‹è¯• Bean æ›¿æ¢**ï¼šä½¿ç”¨ ` @TestBean` æˆ– `@MockitoBean`ï¼ˆSpring 3.4 å®˜æ–¹æ³¨è§£ï¼‰æ›¿ä»£è¿‡æ—¶çš„ `@MockBean`ã€‚\r\n\r\n---\r\n\r\n### ğŸ› ï¸ å»ºè®®æ“ä½œ\r\n\r\nä½ å¯ä»¥å…ˆä»**â€œæ„é€ å™¨æ³¨å…¥â€**å’Œ**â€œé…ç½®ç±»å°è£…â€**å¼€å§‹é‡æ„ã€‚æ¯”å¦‚ä½ çš„ GitHub SSO çŠ¶æ€æ§åˆ¶ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š\r\n\r\n```java\r\n@ConfigurationProperties(prefix = \"com.whaleal.ark.cloud.third.github\")\r\npublic record GithubProperties(boolean enabled) {} // ä½¿ç”¨ Java Recordï¼Œæ›´ç°ä»£\r\n\r\n@RestController\r\n@RequiredArgsConstructor // è‡ªåŠ¨ç”Ÿæˆæ„é€ å‡½æ•°æ³¨å…¥\r\npublic class MsgGitHubSsoController {\r\n    private final GithubProperties githubProperties; // æ— æ³•è¢«åç»­éšæ„ä¿®æ”¹ï¼Œå®‰å…¨\r\n}\r\n\r\n```\r\n\r\n","state":"open","category":{"id":47304441,"name":"Announcements","slug":"announcements","emoji":":mega:"},"labels":[],"user":{"login":"HbnKing","avatar_url":"https://avatars.githubusercontent.com/u/22213280?v=4"},"created_at":"2026-01-11T00:47:54Z","updated_at":"2026-01-11T00:47:54Z","comments":0,"url":"https://github.com/orgs/arkmsg/discussions/6"}]}},"pageContext":{"number":6}},"staticQueryHashes":["2249152690"],"slicesMap":{}}